# Functions

This is a brief overview to provide extra detail for some of the functions used inside the WDS ACF Blocks Plugin.

## `setup_block_defaults`

Expected arguments:

- `$abs_args` - array; will be passed if the block is being rendered by the `print_block()` function, otherwise empty
- `$abs_defaults` - array of defaults setup initially by the block
- `$abs_block` - the block object

Returns:

- `$abs_defaults` - updated with classes added from Gutenberg
- `$abs_atts` - a formatted string of attributes that will be inlined into the block render partial

## `get_acf_fields`

Expected arguments:

- `$fields` - array of field names from the Block's field group. For example: [ 'heading', 'content', 'button_args', 'layout' ]
- `$block_id` - int; the ID of the block. If no value is passed, the post ID will be used

Returns:

- `$return_fields` - array of the block's fields.

## `get_block_classes`

Expected arguments:

- `$block_id` - int; the ID of the block. If no value is passed, the post ID will be used

Returns:

- `$abs_block_classes` - array of classes generated by a block's text or background color controls and class applied to the block

## `allowed_blocks`

Called by the `allowed_block_types_all` hook. This allows you to define which blocks can be used in your theme. All registered ACF blocks are allowed. The plugin currently allows the following core blocks:

- `core/heading`
- `core/paragraph`
- `core/columns`
- `core/freeform`
- `core/gallery`
- `core/html`
- `core/image`
- `core/list`
- `core/separator`
- `core/spacer`
- `core/table`

See https://developer.wordpress.org/block-editor/reference-guides/filters/block-filters/#allowed_block_types_all.

## `register_block_category`

Creates a block category for your blocks. Currently registers the 'WDS' category with the name 'WebDevStudios Blocks'. Should be updated when building a site.

## `get_formatted_atts`

Expected arguments:

- `$atts` - Array of elements to format from the args
- `$args` - Args for the element

Returns:

- imploded string of passed attributes
